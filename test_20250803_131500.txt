🚀 Red Heart AI 통합 학습 시스템 시작
===========================================
[0;34m[INFO][0m 작업 디렉토리: /mnt/c/large_project/linux_red_heart
[0;34m[INFO][0m Red Heart AI 통합 환경 상태 확인 중...
[0;32m[SUCCESS][0m ✅ red_heart_env 가상환경 존재
[0;32m[SUCCESS][0m ✅ faiss-test conda 환경 존재
[0;32m[SUCCESS][0m ✅ FAISS 설치됨 및 작동 확인
✅ Red Heart AI 통합 환경 활성화 완료
   - venv: /mnt/c/large_project/linux_red_heart/red_heart_env
   - conda: faiss-test (함께 활성화됨)
   - python: /mnt/c/large_project/linux_red_heart/red_heart_env/bin/python
   - 환경 분리: faiss→conda subprocess, 나머지→venv
[0;32m[SUCCESS][0m ✅ 주요 패키지 (torch, transformers, numpy) 설치됨
[0;32m[SUCCESS][0m 🎉 모든 환경이 이미 준비되어 있습니다!
✅ Red Heart AI 통합 환경 활성화 완료
   - venv: /mnt/c/large_project/linux_red_heart/red_heart_env
   - conda: faiss-test (함께 활성화됨)
   - python: /mnt/c/large_project/linux_red_heart/red_heart_env/bin/python
   - 환경 분리: faiss→conda subprocess, 나머지→venv
[0;32m[SUCCESS][0m ✅ Red Heart AI 통합 환경 활성화 완료
[0;32m[SUCCESS][0m    - venv: /mnt/c/large_project/linux_red_heart/red_heart_env
[0;32m[SUCCESS][0m    - conda: faiss-test 환경 준비됨
[0;32m[SUCCESS][0m    - python: /mnt/c/large_project/linux_red_heart/red_heart_env/bin/python
[0;32m[SUCCESS][0m    - 환경 분리: faiss→conda subprocess, 나머지→venv
[0;34m[INFO][0m Red Heart AI 통합 학습 시스템 시작
[0;34m[INFO][0m 환경 분리: conda(faiss) + venv(transformers,torch)
[0;34m[INFO][0m Red Heart AI 통합 학습 시스템 실행 시작...
[0;34m[INFO][0m 실행 모드: unified-test
[0;34m[INFO][0m 🧪 800M 통합 시스템 테스트 모드...
🔍 [초기화 시작 전] GPU 메모리 상태:
   💾 총 메모리: 8.00GB
   📊 할당됨: 0.000GB (0.0%)
   📦 예약됨: 0.000GB
   💚 여유: 8.000GB
   🔄 config.py 측정: 0.0%
/mnt/c/large_project/linux_red_heart/red_heart_env/lib/python3.12/site-packages/torch/__init__.py:1021: FutureWarning: `torch.distributed.reduce_op` is deprecated, please use `torch.distributed.ReduceOp` instead
  return isinstance(obj, torch.Tensor)
   🧠 GPU 텐서: 0개, 0.000GB
   🗂️ 캐시된 메모리: 0.000GB
   🔝 새로운 Peak 메모리: 0.000GB (at 초기화 시작 전)
🔍 fast_init_mode = False
🌐 전역 모듈 순차 초기화 시작 - MasterMemoryOrchestrator 관리
/mnt/c/large_project/linux_red_heart/red_heart_env/lib/python3.12/site-packages/transformers/utils/hub.py:111: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.
  warnings.warn(
/mnt/c/large_project/linux_red_heart/red_heart_env/lib/python3.12/site-packages/transformers/models/marian/tokenization_marian.py:175: UserWarning: Recommended: pip install sacremoses.
  warnings.warn("Recommended: pip install sacremoses.")
❌ 모듈 translator 로딩 실패: 'memory_used_gb'
🚨 translator 로딩 실패 상세 스택:
Traceback (most recent call last):
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 1177, in _load_single_module
    logger.info(f"[GPU MEM] after swap-in {spec['name']}: alloc={gpu_info['memory_used_gb']:.1f}GB reserved={gpu_info['memory_reserved_gb']:.1f}GB util={gpu_info['usage_percent']:.1f}%")
                                                                 ~~~~~~~~^^^^^^^^^^^^^^^^^^
KeyError: 'memory_used_gb'

   ❌ translator 초기화 실패: 'memory_used_gb'
❌ 전역 모듈 초기화 실패: 필수 모듈 translator 초기화 실패: 'memory_used_gb'
❌ 스택 트레이스:
Traceback (most recent call last):
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 938, in _initialize_global_modules_sequential
    module_instance = await asyncio.wait_for(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 1177, in _load_single_module
    logger.info(f"[GPU MEM] after swap-in {spec['name']}: alloc={gpu_info['memory_used_gb']:.1f}GB reserved={gpu_info['memory_reserved_gb']:.1f}GB util={gpu_info['usage_percent']:.1f}%")
                                                                 ~~~~~~~~^^^^^^^^^^^^^^^^^^
KeyError: 'memory_used_gb'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 1336, in _initialize_core_components
    await self._initialize_global_modules_sequential()
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 987, in _initialize_global_modules_sequential
    raise RuntimeError(f"필수 모듈 {spec['name']} 초기화 실패: {e}")
RuntimeError: 필수 모듈 translator 초기화 실패: 'memory_used_gb'

시스템 초기화 실패: 전역 모듈 초기화 실패 - 시스템 중단: 필수 모듈 translator 초기화 실패: 'memory_used_gb'
🚨 상세 에러 스택:
Traceback (most recent call last):
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 938, in _initialize_global_modules_sequential
    module_instance = await asyncio.wait_for(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 1177, in _load_single_module
    logger.info(f"[GPU MEM] after swap-in {spec['name']}: alloc={gpu_info['memory_used_gb']:.1f}GB reserved={gpu_info['memory_reserved_gb']:.1f}GB util={gpu_info['usage_percent']:.1f}%")
                                                                 ~~~~~~~~^^^^^^^^^^^^^^^^^^
KeyError: 'memory_used_gb'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 1336, in _initialize_core_components
    await self._initialize_global_modules_sequential()
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 987, in _initialize_global_modules_sequential
    raise RuntimeError(f"필수 모듈 {spec['name']} 초기화 실패: {e}")
RuntimeError: 필수 모듈 translator 초기화 실패: 'memory_used_gb'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 705, in initialize_system
    await self._initialize_core_components()
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 1343, in _initialize_core_components
    raise RuntimeError(f"전역 모듈 초기화 실패 - 시스템 중단: {e}") from e
RuntimeError: 전역 모듈 초기화 실패 - 시스템 중단: 필수 모듈 translator 초기화 실패: 'memory_used_gb'

============================================================
🚀 Red Heart AI 통합 시스템 (800M 파라미터)
============================================================
모드: test
시작 시간: 2025-08-03 13:16:54
------------------------------------------------------------

============================================================
🚨 필수 모듈 translator 로딩 실패!
============================================================
에러: 'memory_used_gb'
모듈 경로: local_translator.LocalTranslator
============================================================


============================================================
🚨 시스템 초기화 실패!
============================================================
에러: 전역 모듈 초기화 실패 - 시스템 중단: 필수 모듈 translator 초기화 실패: 'memory_used_gb'
============================================================
상세 스택 트레이스:
Traceback (most recent call last):
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 938, in _initialize_global_modules_sequential
    module_instance = await asyncio.wait_for(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 1177, in _load_single_module
    logger.info(f"[GPU MEM] after swap-in {spec['name']}: alloc={gpu_info['memory_used_gb']:.1f}GB reserved={gpu_info['memory_reserved_gb']:.1f}GB util={gpu_info['usage_percent']:.1f}%")
                                                                 ~~~~~~~~^^^^^^^^^^^^^^^^^^
KeyError: 'memory_used_gb'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 1336, in _initialize_core_components
    await self._initialize_global_modules_sequential()
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 987, in _initialize_global_modules_sequential
    raise RuntimeError(f"필수 모듈 {spec['name']} 초기화 실패: {e}")
RuntimeError: 필수 모듈 translator 초기화 실패: 'memory_used_gb'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 705, in initialize_system
    await self._initialize_core_components()
  File "/mnt/c/large_project/linux_red_heart/unified_system_orchestrator.py", line 1343, in _initialize_core_components
    raise RuntimeError(f"전역 모듈 초기화 실패 - 시스템 중단: {e}") from e
RuntimeError: 전역 모듈 초기화 실패 - 시스템 중단: 필수 모듈 translator 초기화 실패: 'memory_used_gb'

============================================================

[13:17:23] ❌ 시스템 초기화 실패
[0;34m[INFO][0m 학습 시스템 정리 중...
[0;34m[INFO][0m GPU 메모리 정리...
Terminated
[0;32m[SUCCESS][0m 정리 완료
